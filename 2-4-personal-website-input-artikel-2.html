<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel Admin - Buat Artikel Baru (Quill)</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Quill Rich Text Editor -->
    <link
      href="https://cdn.quilljs.com/1.3.6/quill.snow.css"
      rel="stylesheet"
    />

    <!-- Google Fonts (agar konsisten) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      /* Menggunakan beberapa variabel dari tema utama untuk konsistensi */
      :root {
        --bg-light: #fdfaf5;
        --border-light: #e0d9d1;
        --text-light: #3d3d3d;
        --accent-light: #8c7a6b;
      }
      .font-serif {
        font-family: "Lora", serif;
      }
      .font-sans {
        font-family: "Inter", sans-serif;
      }
      body {
        font-family: "Inter", sans-serif;
        background-color: #f7f7f7; /* Latar belakang netral untuk admin */
        color: var(--text-light);
      }
      .form-input {
        border: 1px solid var(--border-light);
        background-color: var(--bg-light);
        padding: 0.75rem 1rem;
        border-radius: 0.25rem;
        width: 100%;
        transition: border-color 0.2s;
      }
      .form-input:focus {
        outline: none;
        border-color: var(--accent-light);
        box-shadow: 0 0 0 2px rgba(140, 122, 107, 0.2);
      }
      .btn-publish {
        background-color: var(--accent-light);
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 0.25rem;
        font-weight: 600;
        transition: background-color 0.2s;
      }
      .btn-publish:hover {
        background-color: #7a6a5b;
      }
      /* Styling untuk Quill Editor */
      #editor-container {
        border: 1px solid var(--border-light);
        border-radius: 0.25rem;
        background-color: white;
      }
      .ql-toolbar {
        border-top-left-radius: 0.25rem;
        border-top-right-radius: 0.25rem;
        border-bottom: 1px solid var(--border-light) !important;
      }
      .ql-container {
        border-bottom-left-radius: 0.25rem;
        border-bottom-right-radius: 0.25rem;
      }
      .ql-editor {
        min-height: 400px;
        font-family: "Inter", sans-serif;
        font-size: 16px;
      }
    </style>
  </head>
  <body class="antaliases">
    <div class="min-h-screen flex flex-col">
      <!-- Header Panel Admin -->
      <header
        class="bg-white shadow-sm w-full"
        style="border-bottom: 1px solid var(--border-light)"
      >
        <div class="max-w-5xl mx-auto px-6 py-4">
          <h1 class="text-2xl font-serif font-bold">Admin Panel</h1>
          <p class="text-sm" style="color: var(--accent-light)">
            Editor menggunakan Quill
          </p>
        </div>
      </header>

      <!-- Main Content -->
      <main class="flex-grow max-w-5xl w-full mx-auto px-6 py-8">
        <h2 class="text-3xl font-serif font-bold mb-8">Buat Artikel Baru</h2>

        <form id="article-form" class="space-y-6">
          <!-- Judul Artikel -->
          <div>
            <label
              for="title"
              class="block text-lg font-serif font-semibold mb-2"
              >Judul Artikel</label
            >
            <input
              type="text"
              id="title"
              name="title"
              class="form-input text-lg"
              placeholder="Tulis judul yang menarik..."
              required
            />
          </div>

          <!-- Konten Artikel (Quill Editor) -->
          <div>
            <label class="block text-lg font-serif font-semibold mb-2"
              >Konten</label
            >
            <div id="editor-container">
              <div id="editor">
                <!-- Konten awal bisa ditaruh di sini -->
              </div>
            </div>
          </div>

          <!-- Gambar Utama -->
          <div>
            <label
              for="featured-image"
              class="block text-lg font-serif font-semibold mb-2"
              >URL Gambar Utama</label
            >
            <input
              type="url"
              id="featured-image"
              name="featured-image"
              class="form-input"
              placeholder="https://example.com/gambar.jpg"
              required
            />
          </div>

          <!-- Tombol Publish -->
          <div class="text-right pt-4">
            <button type="submit" class="btn-publish">
              Publikasikan Artikel
            </button>
          </div>
        </form>
      </main>
    </div>

    <!-- Quill JS -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <script>
      // Inisialisasi Quill Editor
      const quill = new Quill("#editor", {
        theme: "snow", // 'snow' adalah tema standar dengan toolbar
        placeholder: "Mulai tulis ceritamu di sini...",
        modules: {
          toolbar: [
            [{ header: [1, 2, 3, false] }, { font: [] }],
            ["bold", "italic", "underline", "strike"],
            ["blockquote", "code-block"],
            [{ list: "ordered" }, { list: "bullet" }],
            [{ indent: "-1" }, { indent: "+1" }],
            [{ color: [] }, { background: [] }],
            ["link", "image", "video"],
            ["clean"],
          ],
        },
      });

      // Simulasi pengiriman data ke server
      document
        .getElementById("article-form")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Mencegah form untuk refresh halaman

          const title = document.getElementById("title").value;
          // Mengambil konten dari Quill dalam bentuk HTML
          const content = quill.root.innerHTML;
          const imageUrl = document.getElementById("featured-image").value;

          // Cek jika konten kosong (Quill kadang memasukkan <p><br></p> untuk baris kosong)
          if (!title || content === "<p><br></p>" || !imageUrl) {
            alert("Harap isi semua kolom!");
            return;
          }

          // Data yang akan dikirim ke backend/server
          const articleData = {
            title: title,
            content: content,
            featuredImage: imageUrl,
            publishedDate: new Date().toISOString(),
          };

          // Menampilkan data dalam bentuk JSON di console
          console.log("--- DATA ARTIKEL SIAP DIKIRIM ---");
          console.log(JSON.stringify(articleData, null, 2));

          alert(
            'Artikel berhasil "dipublikasikan"! Cek console log (F12) untuk melihat data yang dikirim.'
          );

          // Mengosongkan form setelah submit
          document.getElementById("article-form").reset();
          quill.setContents([{ insert: "\n" }]); // Mengosongkan editor Quill
        });
    </script>
  </body>
</html>
